---
// QuotesCard ç»„ä»¶ - åè¨€åŠ±å¥è½®æ’­å¡ç‰‡

const quotes = [
  { text: 'ä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œåªæ˜¯æ°å¥½èƒ½è¢«æœºå™¨æ‰§è¡Œã€‚', author: 'Donald Knuth', lang: 'zh' },
  { text: 'Stay hungry, stay foolish.', author: 'Steve Jobs', lang: 'en' },
  { text: 'ç®€å•æ˜¯å¤æ‚çš„æè‡´ã€‚', author: 'è¾¾Â·èŠ¬å¥‡', lang: 'zh' },
  {
    text: 'The best way to predict the future is to create it.',
    author: 'Peter Drucker',
    lang: 'en',
  },
  { text: 'ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œã€‚', author: 'ã€Šè€å­ã€‹', lang: 'zh' },
  { text: 'First, solve the problem. Then, write the code.', author: 'John Johnson', lang: 'en' },
  { text: 'å­¦è€Œä¸æ€åˆ™ç½”ï¼Œæ€è€Œä¸å­¦åˆ™æ®†ã€‚', author: 'å­”å­', lang: 'zh' },
  { text: 'Simplicity is the soul of efficiency.', author: 'Austin Freeman', lang: 'en' },
  { text: 'å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚', author: 'ã€Šè®ºè¯­ã€‹', lang: 'zh' },
  { text: 'Make it work, make it right, make it fast.', author: 'Kent Beck', lang: 'en' },
  { text: 'å¤©è¡Œå¥ï¼Œå›å­ä»¥è‡ªå¼ºä¸æ¯ã€‚', author: 'ã€Šæ˜“ç»ã€‹', lang: 'zh' },
  { text: 'Talk is cheap. Show me the code.', author: 'Linus Torvalds', lang: 'en' },
  { text: 'çŸ¥ä¹‹è€…ä¸å¦‚å¥½ä¹‹è€…ï¼Œå¥½ä¹‹è€…ä¸å¦‚ä¹ä¹‹è€…ã€‚', author: 'å­”å­', lang: 'zh' },
  {
    text: 'Any fool can write code that a computer can understand.',
    author: 'Martin Fowler',
    lang: 'en',
  },
  { text: 'è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚', author: 'å±ˆåŸ', lang: 'zh' },
  {
    text: 'The only way to do great work is to love what you do.',
    author: 'Steve Jobs',
    lang: 'en',
  },
  { text: 'åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘ã€‚', author: 'è‹è½¼', lang: 'zh' },
  { text: 'Code never lies, comments sometimes do.', author: 'Ron Jeffries', lang: 'en' },
  { text: 'åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚', author: 'è€å­', lang: 'zh' },
  {
    text: 'Perfection is achieved not when there is nothing more to add.',
    author: 'Antoine de Saint-ExupÃ©ry',
    lang: 'en',
  },
];
---

<div class="quotes-card card p-4">
  <h3 class="quotes-header">
    <span class="quotes-icon">ğŸ’­</span>
    <span>æ¯æ—¥ç®´è¨€</span>
  </h3>
  
  <div class="quotes-container" id="quotesContainer">
    <div class="quotes-track" id="quotesTrack">
      {quotes.map((quote, index) => (
        <div class="quote-item" data-lang={quote.lang}>
          <blockquote class="quote-text">
            "{quote.text}"
          </blockquote>
          <cite class="quote-author">
            â€” {quote.author}
          </cite>
        </div>
      ))}
      {/* å¤åˆ¶ä¸€ä»½ç”¨äºæ— ç¼æ»šåŠ¨ */}
      {quotes.map((quote, index) => (
        <div class="quote-item" data-lang={quote.lang}>
          <blockquote class="quote-text">
            "{quote.text}"
          </blockquote>
          <cite class="quote-author">
            â€” {quote.author}
          </cite>
        </div>
      ))}
    </div>
  </div>

</div>

<style>
  .quotes-card {
    position: relative;
    overflow: hidden;
  }

  .quotes-header {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 600;
    color: var(--color-text-secondary);
    margin-bottom: 12px;
  }

  .quotes-icon {
    font-size: 16px;
  }

  .quotes-container {
    position: relative;
    height: 59px;
    overflow: hidden;
    mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
    -webkit-mask-image: linear-gradient(
      to bottom,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
  }

  .quotes-track {
    display: flex;
    flex-direction: column;
    animation: scrollQuotes 180s linear infinite;
  }

  .quotes-container:hover .quotes-track {
    animation-play-state: paused;
  }

  @keyframes scrollQuotes {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(-50%);
    }
  }

  .quote-item {
    padding: 8px 0;
    border-bottom: 1px dashed var(--color-border);
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    cursor: text;
  }

  .quote-item:last-child {
    border-bottom: none;
  }

  .quote-text {
    font-size: 13px;
    line-height: 1.6;
    color: var(--color-text);
    margin: 0;
    font-style: italic;
    user-select: text;
  }

  .quote-item[data-lang="en"] .quote-text {
    font-family: "Georgia", "Times New Roman", serif;
    letter-spacing: 0.02em;
  }

  .quote-item[data-lang="zh"] .quote-text {
    font-family: "Noto Serif SC", "Source Han Serif CN", serif;
  }

  .quote-author {
    display: block;
    font-size: 11px;
    color: var(--color-accent);
    margin-top: 6px;
    font-style: normal;
    text-align: right;
    user-select: text;
  }

  .quotes-footer {
    margin-top: 10px;
    padding-top: 8px;
    border-top: 1px solid var(--color-border);
    text-align: center;
  }

  .quotes-hint {
    font-size: 10px;
    color: var(--color-text-secondary);
    opacity: 0.6;
  }

  /* é€‰ä¸­æ ·å¼ */
  .quotes-card ::selection {
    background: var(--color-accent);
    color: white;
  }

  .quotes-card ::-moz-selection {
    background: var(--color-accent);
    color: white;
  }
</style>

<script>
  // ç¡®ä¿æ–‡å­—å¯ä»¥è¢«é€‰ä¸­
  const quotesContainer = document.getElementById('quotesContainer');
  const quotesTrack = document.getElementById('quotesTrack');

  if (quotesContainer && quotesTrack) {
    // é¼ æ ‡è¿›å…¥æ—¶æš‚åœåŠ¨ç”»
    quotesContainer.addEventListener('mouseenter', () => {
      quotesTrack.style.animationPlayState = 'paused';
    });

    // é¼ æ ‡ç¦»å¼€æ—¶æ¢å¤åŠ¨ç”»
    quotesContainer.addEventListener('mouseleave', () => {
      // åªæœ‰åœ¨æ²¡æœ‰é€‰ä¸­æ–‡å­—æ—¶æ‰æ¢å¤
      const selection = window.getSelection();
      if (!selection || selection.toString().length === 0) {
        quotesTrack.style.animationPlayState = 'running';
      }
    });

    // å½“é€‰æ‹©ç»“æŸä¸”é¼ æ ‡ä¸åœ¨å®¹å™¨å†…æ—¶æ¢å¤åŠ¨ç”»
    document.addEventListener('selectionchange', () => {
      const selection = window.getSelection();
      if (selection && selection.toString().length === 0) {
        if (!quotesContainer.matches(':hover')) {
          quotesTrack.style.animationPlayState = 'running';
        }
      }
    });
  }
</script>
